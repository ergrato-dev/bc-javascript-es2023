<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <!-- Background -->
  <rect width="900" height="600" fill="#1a202c"/>

  <!-- Title -->
  <text x="450" y="40" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#f0db4f" text-anchor="middle">
    Encadenamiento de Métodos (Method Chaining)
  </text>

  <!-- Input data -->
  <rect x="100" y="70" width="700" height="50" fill="#2d3748" stroke="#a0aec0" stroke-width="2" rx="5"/>
  <text x="450" y="95" font-family="Courier, monospace" font-size="12" fill="#e2e8f0" text-anchor="middle">
    const data = [{id: 1, age: 25, active: true}, {id: 2, age: 17, active: false}, ...]
  </text>

  <!-- Step 1: Filter -->
  <g>
    <rect x="80" y="150" width="740" height="70" fill="#2d3748" stroke="#48bb78" stroke-width="2" rx="5"/>
    <text x="100" y="175" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#48bb78">
      1️⃣ FILTER: Seleccionar usuarios activos
    </text>
    <rect x="100" y="190" width="700" height="22" fill="#1a202c" stroke="#4299e1" stroke-width="1" rx="2"/>
    <text x="110" y="205" font-family="Courier, monospace" font-size="11" fill="#4299e1">
      .filter(user => user.active === true)
    </text>
  </g>

  <!-- Arrow -->
  <line x1="450" y1="230" x2="450" y2="250" stroke="#4299e1" stroke-width="2" marker-end="url(#arrowblue)"/>

  <!-- Step 2: Map -->
  <g>
    <rect x="80" y="260" width="740" height="70" fill="#2d3748" stroke="#4299e1" stroke-width="2" rx="5"/>
    <text x="100" y="285" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#4299e1">
      2️⃣ MAP: Extraer solo nombres
    </text>
    <rect x="100" y="300" width="700" height="22" fill="#1a202c" stroke="#4299e1" stroke-width="1" rx="2"/>
    <text x="110" y="315" font-family="Courier, monospace" font-size="11" fill="#4299e1">
      .map(user => user.name)
    </text>
  </g>

  <!-- Arrow -->
  <line x1="450" y1="340" x2="450" y2="360" stroke="#4299e1" stroke-width="2" marker-end="url(#arrowblue)"/>

  <!-- Step 3: Sort -->
  <g>
    <rect x="80" y="370" width="740" height="70" fill="#2d3748" stroke="#ef4444" stroke-width="2" rx="5"/>
    <text x="100" y="395" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#ef4444">
      3️⃣ SORT: Orden alfabético
    </text>
    <rect x="100" y="410" width="700" height="22" fill="#1a202c" stroke="#4299e1" stroke-width="1" rx="2"/>
    <text x="110" y="425" font-family="Courier, monospace" font-size="11" fill="#4299e1">
      .sort((a, b) => a.localeCompare(b))
    </text>
  </g>

  <!-- Arrow -->
  <line x1="450" y1="450" x2="450" y2="470" stroke="#4299e1" stroke-width="2" marker-end="url(#arrowblue)"/>

  <!-- Step 4: Slice -->
  <g>
    <rect x="80" y="480" width="740" height="70" fill="#2d3748" stroke="#a78bfa" stroke-width="2" rx="5"/>
    <text x="100" y="505" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#a78bfa">
      4️⃣ SLICE: Primeros 3 resultados
    </text>
    <rect x="100" y="520" width="700" height="22" fill="#1a202c" stroke="#4299e1" stroke-width="1" rx="2"/>
    <text x="110" y="535" font-family="Courier, monospace" font-size="11" fill="#4299e1">
      .slice(0, 3)
    </text>
  </g>

  <!-- Result -->
  <rect x="80" y="570" width="740" height="25" fill="#2d3748" stroke="#48bb78" stroke-width="2" rx="5"/>
  <text x="450" y="589" font-family="Courier, monospace" font-size="11" fill="#48bb78" text-anchor="middle" font-weight="bold">
    Resultado: ['Alice', 'Bob', 'Carol']
  </text>

  <!-- Legend box -->
  <rect x="50" y="615" width="800" height="35" fill="#2d3748" stroke="#f0db4f" stroke-width="2" rx="5"/>
  <text x="70" y="633" font-family="system-ui, sans-serif" font-size="11" fill="#f0db4f" font-weight="bold">
    ⚡ Cada método retorna un nuevo array que se pasa al siguiente método. Esto es Method Chaining.
  </text>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowblue" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#4299e1" />
    </marker>
  </defs>
</svg>
